<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Clase 4 x Vale Navarrete</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    </head>
    <body>
        <div class="container">
            <div div="row">
                <div div="col">
                    <h3 class="mt-5"><font color="#5854DE"><strong>MEMORIAS UC</strong></font></h3>
                    <hr class="border border-info border-4 opacity-50">
                    <h1 class="mt-5"><font color="#54DDDE">SIETES X AÃ‘OS</font></h1>

                    <table class="table table-striped">
                        <tr>
                            <td>2010</td><td id="diez"></td>
                        </tr>
                        <tr>
                            <td>2011</td><td id="once"></td>
                        </tr>
                        <tr>
                            <td>2012</td><td id="doce"></td>
                        </tr>
                        <tr>
                            <td>2013</td><td id="trece"></td>
                        </tr>
                        <tr>
                            <td>2014</td><td id="catorce"></td>
                        </tr>
                        <tr>
                            <td>2015</td><td id="quince"></td>
                        </tr>
                        <tr>
                            <td>2016</td><td id="dieciseis"></td>
                        </tr>
                        <tr>
                            <td>2017</td><td id="diecisiete"></td>
                        </tr>
                        <tr>
                            <td>2018</td><td id="dieciocho"></td>
                        </tr>
                        <tr>
                            <td>2019</td><td id="diecinueve"></td>
                        </tr>
                        <tr>
                            <td>2020</td><td id="veinte"></td>
                        </tr>
                        <tr>
                            <td>2021</td><td id="veintiuno"></td>
                        </tr>
                        <tr>
                            <td>2022</td><td id="veintidos"></td>
                        </tr>
                    </table>
            <hr class="border border-info border-4 opacity-50">
            <h2 class="my-5"><font color="#DE5554">CANTIDAD DE 7s X PROFESOR</font></h2>

            <address></address>

                </div>
            </div>
        </div> 
       
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js" integrity="sha512-dfX5uYVXzyU8+KHqj8bjo7UkOdg18PaOtpa48djpNbZHwExddghZ+ZmzWT06R5v6NSk3ZUfsH6FNEDepLx9hPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <script>
            //todas las celdas
            const diez = document.querySelector ("#diez");
            const once = document.querySelector ("#once");
            const doce = document.querySelector ("#doce");
            const trece = document.querySelector ("#trece");
            const catorce = document.querySelector ("#catorce");
            const quince = document.querySelector ("#quince");
            const dieciseis = document.querySelector ("#dieciseis");
            const diecisiete = document.querySelector ("#diecisiete");
            const dieciocho = document.querySelector ("#dieciocho");
            const diecinueve = document.querySelector ("#diecinueve");
            const veinte = document.querySelector ("#veinte");
            const veintiuno = document.querySelector ("#veintiuno");
            const veintidos = document.querySelector ("#veintidos");

            //Variable que se repite durante la tabla
            const picto = "ðŸž§";

            //los raw datos
            var datos;

            var profes = [];
            var profesOK = [];
            const olimpo = document.querySelector("address");

            Papa.parse("https://raw.githubusercontent.com/profesorfaco/dno097-2024/main/clase-04/sietes.csv", {
                download: true,
                header: true,
                dynamicTyping: true,
                complete: function (results) {
                    console.log(results);
                    datos = results.data;
                    console.log(datos);
                    datos.forEach(x => {
                        if(x.year == 2010){
                            diez.innerHTML += picto
                        } else if(x.year == 2011){
                            once.innerHTML += picto
                        } else if(x.year == 2012){
                            doce.innerHTML += picto
                        } else if(x.year == 2013){
                            trece.innerHTML += picto
                        } else if(x.year == 2014){
                            catorce.innerHTML += picto
                        } else if(x.year == 2015){
                            quince.innerHTML += picto
                        } else if(x.year == 2016){
                            dieciseis.innerHTML += picto
                        } else if(x.year == 2017){
                            diecisiete.innerHTML += picto
                        } else if(x.year == 2018){
                            dieciocho.innerHTML += picto
                        } else if(x.year == 2019){
                            diecinueve.innerHTML += picto
                        } else if(x.year == 2020){
                            veinte.innerHTML += picto
                        } else if(x.year == 2021){
                            veintiuno.innerHTML += picto
                        } else {
                            veintidos.innerHTML += picto
                        }      

                        profes.push(x.tutor);

                    });
                    console.log(profes);

                    profesOK = [...new Set(profes)];

                    profesOK.sort();

                    console.log(profesOK);
                    profesOK.forEach(profesor => {
                        const apariciones = datos.filter(x => x.tutor === profesor).length;    const pictogramas = picto.repeat(apariciones);
                    olimpo.innerHTML += `${profesor}${pictogramas} <br>`;

});



   
                },
            });
        </script>
    </body>
</html>
